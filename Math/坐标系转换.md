# 坐标系转换

## 外参角度转欧拉角

对于欧拉角$$(roll,pitch,yaw)$$，旋转轴分别为$$(x,y,z)$$，由坐标系{A}转到坐标系{B}的欧拉角$$yaw,pitch,roll$$顺序，依次计算，正负根据右手螺旋定则，与旋转轴正方向相同及为正，反之为负。



## 欧拉角转旋转矩阵





```cpp
 cv::Mat R_x = (cv::Mat_<double>(3, 3) << 
                1, 0, 0,
              0, cos(_r_vec.at<double>(0, 0)), -sin(_r_vec.at<double>(0, 0)),
                   0, sin(_r_vec.at<double>(0, 0)), cos(_r_vec.at<double>(0, 0)));
cv::Mat R_y = (cv::Mat_<double>(3, 3) << 
    cos(_r_vec.at<double>(0, 1)), 0, sin(_r_vec.at<double>(0, 1)),
                   0, 1, 0,
  -sin(_r_vec.at<double>(0, 1)),0,  cos(_r_vec.at<double>(0, 1)));
     cv::Mat R_z= (cv::Mat_<double>(3, 3) <<
                cos(_r_vec.at<double>(0, 2)), -sin(_r_vec.at<double>(0, 2)),0,
                 sin(_r_vec.at<double>(0, 2)), cos(_r_vec.at<double>(0, 2)),0,
                 0,0,1);
     cv::Mat R = R_x * R_y * R_z;  // GImbal 2 Camera 
```



