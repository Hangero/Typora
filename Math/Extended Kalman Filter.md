# Extended Kalman Filter

## KF和EKF模型对比

**`KF`与`EKF`具有相同的算法结构**，都是以高斯形式描述后验概率密度的，通过计算贝叶斯递推公式得到的。最大的不同之处在于，计算方差时，EKF的状态转移矩阵（上一时刻的状态信息$k-1|k-1$）和观测矩阵（一步预测$k|k-1$）都是状态信息的雅克比矩阵（ 偏导数组成的矩阵）。 在预测公式部分，扩展卡尔曼滤波的$F_k$ 为$f$的雅可比矩阵，在更新公式部分，扩展卡尔曼滤波的$H_k$为$h$的雅可比矩阵。

预测模型：

![image-20230519191826902](/home/suyu/.config/Typora/typora-user-images/image-20230519191826902.png)

预测公式：

![image-20230519191850508](/home/suyu/.config/Typora/typora-user-images/image-20230519191850508.png)

更新公式：

![image-20230519191909447](/home/suyu/.config/Typora/typora-user-images/image-20230519191909447.png)

其中

| 量                     | 含义                                                         |
| ---------------------- | ------------------------------------------------------------ |
| $\hat{x_k}$            | k时刻的状态向量                                              |
| $F_k$                  | 状态转移矩阵，表示将k − 1 k-1k−1时刻的状态向量转移至t时刻的状态向量 |
| $B_k$                  | 输入控制矩阵，代表将控制向量$\hat{u_k}$映射到状态向量上，统一控制向量和状态向量之间的关系 |
| $\hat{u_k}$            | 控制向量，如加速度，角速度                                   |
| $w_k$                  | 过程演化噪声                                                 |
| $v_k$                  | 量测噪声                                                     |
| $P_k$                  | 状态向量的协方差矩阵，代表着状态向量每个元素之间的关系       |
| $Q_k$                  | 预测状态的高斯噪声的协方差矩阵，用来衡量模型的准取度，模型越准取其值越小 |
| $\overrightarrow{z_k}$ | 传感器测量值的状态向量，也是传感器的测量结果                 |
| $H_k$                  | 转换矩阵，将状态向量$\hat{x_k}$映射到测量值所在的向量空间$\overrightarrow{z_k}$ |
| $R_k$                  | 测量值的高斯噪声的协方差矩阵，代表传感器的测量误差           |





如果我是7，我红色，敌方蓝色

如果我是107，我蓝色，敌方红色
